<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>frozen: buffer.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">frozen&#160;<span id="projectnumber">1.0</span></div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">buffer.c File Reference</div>  </div>
</div>
<div class="contents">

<p>Working with <a class="el" href="structbuffer__t.html" title="buffer_t structure">buffer_t</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;libfrozen.h&gt;</code><br/>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a021b9155b7e1ae803cd1d48c6e819fe9"></a><!-- doxytag: member="buffer.c::MEMCMP_BUFF_SIZE" ref="a021b9155b7e1ae803cd1d48c6e819fe9" args="" -->
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MEMCMP_BUFF_SIZE</b>&#160;&#160;&#160;1024</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f0d1022352e051b34745bbbdecb35e5"></a><!-- doxytag: member="buffer.c::chunk_data_alloc" ref="a7f0d1022352e051b34745bbbdecb35e5" args="(size_t size)" -->
void *&#160;</td><td class="memItemRight" valign="bottom"><b>chunk_data_alloc</b> (size_t size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a01ae24f29ece8322db25b4e0464edb28"></a><!-- doxytag: member="buffer.c::chunk_bare_alloc" ref="a01ae24f29ece8322db25b4e0464edb28" args="(void *ptr, size_t size)" -->
void *&#160;</td><td class="memItemRight" valign="bottom"><b>chunk_bare_alloc</b> (void *ptr, size_t size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02a20844857110abddd8d5a20a7d53b0"></a><!-- doxytag: member="buffer.c::chunk_get_size" ref="a02a20844857110abddd8d5a20a7d53b0" args="(void *chunk)" -->
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>chunk_get_size</b> (void *chunk)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae22e04efc56680784c74d1aca5f26b3d"></a><!-- doxytag: member="buffer.c::chunk_get_ptr" ref="ae22e04efc56680784c74d1aca5f26b3d" args="(void *chunk)" -->
void *&#160;</td><td class="memItemRight" valign="bottom"><b>chunk_get_ptr</b> (void *chunk)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a748383d75d2b9f157d978df9892d6189"></a><!-- doxytag: member="buffer.c::chunk_next" ref="a748383d75d2b9f157d978df9892d6189" args="(void *chunk)" -->
void *&#160;</td><td class="memItemRight" valign="bottom"><b>chunk_next</b> (void *chunk)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b13380a703f2d26266c57c84e29907e"></a><!-- doxytag: member="buffer.c::chunk_free" ref="a1b13380a703f2d26266c57c84e29907e" args="(void *chunk)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>chunk_free</b> (void *chunk)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a4a2f8a0ddca9f028b827fa0f8979baa2">buffer_init</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize buffer.  <a href="#a4a2f8a0ddca9f028b827fa0f8979baa2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#ac5d2180ecdc4a3bcf5c36f9270ab1734">buffer_alloc</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate new buffer.  <a href="#ac5d2180ecdc4a3bcf5c36f9270ab1734"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a411f09bef06e2f6044922c71f5b1815c">buffer_io_init</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, void *context, func_buffer read, func_buffer write, int cached)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate buffer with read and write functions.  <a href="#a411f09bef06e2f6044922c71f5b1815c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#abe40d5b7127b68a9f2c296c55e487ff7">buffer_io_alloc</a> (void *context, func_buffer read, func_buffer write, int cached)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate buffer with read and write functions.  <a href="#abe40d5b7127b68a9f2c296c55e487ff7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a9f15250a64fdc7d7d93defc6577c2483">buffer_init_from_bare</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, void *ptr, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Associate raw memory with buffer.  <a href="#a9f15250a64fdc7d7d93defc6577c2483"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#ab9e2b995445b2b4096aeeb9dcc07c369">buffer_alloc_from_bare</a> (void *ptr, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate new buffer associated with raw memory.  <a href="#ab9e2b995445b2b4096aeeb9dcc07c369"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a8c18486f8e55fed8d6c79303318edfb5">buffer_init_from_copy</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, void *ptr, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy raw memory to new buffer.  <a href="#a8c18486f8e55fed8d6c79303318edfb5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a535880f78712ba7e5a259c0006ec7e13">buffer_alloc_from_copy</a> (void *ptr, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy raw memory to allocated buffer.  <a href="#a535880f78712ba7e5a259c0006ec7e13"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#ae0479ca5543dcbb6a352bdfc20f9c345">buffer_destroy</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy buffer.  <a href="#ae0479ca5543dcbb6a352bdfc20f9c345"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#ae72ae45d0d47e08f2e4235697bb0caeb">buffer_free</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Free allocated buffer.  <a href="#ae72ae45d0d47e08f2e4235697bb0caeb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#aede80e5880026b734c4fcb9c423d4113">buffer_defragment</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Defragment buffer to one chunk and return pointer to this chunk.  <a href="#aede80e5880026b734c4fcb9c423d4113"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#afd5ff9309094291836158030bb9b6149">buffer_cleanup</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Empty buffer.  <a href="#afd5ff9309094291836158030bb9b6149"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a9da9d14fa73f143265e0c05c0eefdb61">buffer_get_size</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get buffer length.  <a href="#a9da9d14fa73f143265e0c05c0eefdb61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab682a134ad861fdf31ecc27231e62b71"></a><!-- doxytag: member="buffer.c::buffer_add_head_chunk" ref="ab682a134ad861fdf31ecc27231e62b71" args="(buffer_t *buffer, size_t size)" -->
void *&#160;</td><td class="memItemRight" valign="bottom"><b>buffer_add_head_chunk</b> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, size_t size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c46c9c4cfd451615fcacc43b04a6ac1"></a><!-- doxytag: member="buffer.c::buffer_add_tail_chunk" ref="a0c46c9c4cfd451615fcacc43b04a6ac1" args="(buffer_t *buffer, size_t size)" -->
void *&#160;</td><td class="memItemRight" valign="bottom"><b>buffer_add_tail_chunk</b> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, size_t size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aefd04158543f55c77c7208dc2c45efc0"></a><!-- doxytag: member="buffer.c::buffer_add_head_raw" ref="aefd04158543f55c77c7208dc2c45efc0" args="(buffer_t *buffer, void *ptr, size_t size)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>buffer_add_head_raw</b> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, void *ptr, size_t size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a42dc06d0ec0d87cf6074eaa13faaa766"></a><!-- doxytag: member="buffer.c::buffer_add_tail_raw" ref="a42dc06d0ec0d87cf6074eaa13faaa766" args="(buffer_t *buffer, void *ptr, size_t size)" -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>buffer_add_tail_raw</b> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, void *ptr, size_t size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a2d4642c47fa40ba0922c1d4c72b2c4ca">buffer_write</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, off_t write_offset, void *buf, size_t buf_size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to buffer.  <a href="#a2d4642c47fa40ba0922c1d4c72b2c4ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#af7e0a398289f8db655526fcbfdf12e53">buffer_read</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, off_t read_offset, void *buf, size_t buf_size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read from buffer.  <a href="#af7e0a398289f8db655526fcbfdf12e53"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#ae3b879f1d45172846446102e4c4afdba">buffer_seek</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer, off_t b_offset, void **p_chunk, void **p_ptr, size_t *p_rest_size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Seek chunk in buffer.  <a href="#ae3b879f1d45172846446102e4c4afdba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a3b66d6f561851849956df27381711914">buffer_memcmp</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer1, off_t buffer1_off, <a class="el" href="structbuffer__t.html">buffer_t</a> *buffer2, off_t buffer2_off, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two buffers.  <a href="#a3b66d6f561851849956df27381711914"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffer_8c.html#a8ac167292c555d56fd631f55728047de">buffer_memcpy</a> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer1, off_t buffer1_off, <a class="el" href="structbuffer__t.html">buffer_t</a> *buffer2, off_t buffer2_off, size_t size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy from one buffer to another.  <a href="#a8ac167292c555d56fd631f55728047de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad1b76ac443623e7b78875bf6739f32c3"></a><!-- doxytag: member="buffer.c::buffer_strcmp" ref="ad1b76ac443623e7b78875bf6739f32c3" args="(buffer_t *buffer1, buffer_t *buffer_2)" -->
ssize_t&#160;</td><td class="memItemRight" valign="bottom"><b>buffer_strcmp</b> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer1, <a class="el" href="structbuffer__t.html">buffer_t</a> *buffer_2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65a7b95f009f4b360fe4f35aab47e966"></a><!-- doxytag: member="buffer.c::buffer_strlen" ref="a65a7b95f009f4b360fe4f35aab47e966" args="(buffer_t *buffer)" -->
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>buffer_strlen</b> (<a class="el" href="structbuffer__t.html">buffer_t</a> *buffer)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Working with <a class="el" href="structbuffer__t.html" title="buffer_t structure">buffer_t</a>. </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac5d2180ecdc4a3bcf5c36f9270ab1734"></a><!-- doxytag: member="buffer.c::buffer_alloc" ref="ac5d2180ecdc4a3bcf5c36f9270ab1734" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbuffer__t.html">buffer_t</a>* buffer_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate new buffer. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="structbuffer__t.html" title="buffer_t structure">buffer_t</a> * or NULL </dd></dl>

</div>
</div>
<a class="anchor" id="ab9e2b995445b2b4096aeeb9dcc07c369"></a><!-- doxytag: member="buffer.c::buffer_alloc_from_bare" ref="ab9e2b995445b2b4096aeeb9dcc07c369" args="(void *ptr, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbuffer__t.html">buffer_t</a>* buffer_alloc_from_bare </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Allocate new buffer associated with raw memory. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Pointer to raw memory </td></tr>
    <tr><td class="paramname">size</td><td>Length of memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a535880f78712ba7e5a259c0006ec7e13"></a><!-- doxytag: member="buffer.c::buffer_alloc_from_copy" ref="a535880f78712ba7e5a259c0006ec7e13" args="(void *ptr, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbuffer__t.html">buffer_t</a>* buffer_alloc_from_copy </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy raw memory to allocated buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>Raw memory </td></tr>
    <tr><td class="paramname">size</td><td>Length of memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afd5ff9309094291836158030bb9b6149"></a><!-- doxytag: member="buffer.c::buffer_cleanup" ref="afd5ff9309094291836158030bb9b6149" args="(buffer_t *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buffer_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Empty buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Buffer to empty </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aede80e5880026b734c4fcb9c423d4113"></a><!-- doxytag: member="buffer.c::buffer_defragment" ref="aede80e5880026b734c4fcb9c423d4113" args="(buffer_t *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* buffer_defragment </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Defragment buffer to one chunk and return pointer to this chunk. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Buffer to defragment </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ptr to defragmented memory </dd>
<dd>
NULL if buffer was empty </dd></dl>

</div>
</div>
<a class="anchor" id="ae0479ca5543dcbb6a352bdfc20f9c345"></a><!-- doxytag: member="buffer.c::buffer_destroy" ref="ae0479ca5543dcbb6a352bdfc20f9c345" args="(buffer_t *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buffer_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroy buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Buffer to destroy </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae72ae45d0d47e08f2e4235697bb0caeb"></a><!-- doxytag: member="buffer.c::buffer_free" ref="ae72ae45d0d47e08f2e4235697bb0caeb" args="(buffer_t *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buffer_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free allocated buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Buffer to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9da9d14fa73f143265e0c05c0eefdb61"></a><!-- doxytag: member="buffer.c::buffer_get_size" ref="a9da9d14fa73f143265e0c05c0eefdb61" args="(buffer_t *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t buffer_get_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get buffer length. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4a2f8a0ddca9f028b827fa0f8979baa2"></a><!-- doxytag: member="buffer.c::buffer_init" ref="a4a2f8a0ddca9f028b827fa0f8979baa2" args="(buffer_t *buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buffer_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Place for buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9f15250a64fdc7d7d93defc6577c2483"></a><!-- doxytag: member="buffer.c::buffer_init_from_bare" ref="a9f15250a64fdc7d7d93defc6577c2483" args="(buffer_t *buffer, void *ptr, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buffer_init_from_bare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Associate raw memory with buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Place to write buffer structure </td></tr>
    <tr><td class="paramname">ptr</td><td>Pointer to raw memory </td></tr>
    <tr><td class="paramname">size</td><td>Length of memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8c18486f8e55fed8d6c79303318edfb5"></a><!-- doxytag: member="buffer.c::buffer_init_from_copy" ref="a8c18486f8e55fed8d6c79303318edfb5" args="(buffer_t *buffer, void *ptr, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buffer_init_from_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy raw memory to new buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Place to write buffer structure </td></tr>
    <tr><td class="paramname">ptr</td><td>Raw memory </td></tr>
    <tr><td class="paramname">size</td><td>Length of memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abe40d5b7127b68a9f2c296c55e487ff7"></a><!-- doxytag: member="buffer.c::buffer_io_alloc" ref="abe40d5b7127b68a9f2c296c55e487ff7" args="(void *context, func_buffer read, func_buffer write, int cached)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbuffer__t.html">buffer_t</a>* buffer_io_alloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">func_buffer&#160;</td>
          <td class="paramname"><em>read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">func_buffer&#160;</td>
          <td class="paramname"><em>write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cached</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Associate buffer with read and write functions. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>IO context for functions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read</td><td>IO read function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">write</td><td>IO write function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cached</td><td>Cache returned io buffers </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="structbuffer__t.html" title="buffer_t structure">buffer_t</a> * </dd>
<dd>
NULL </dd></dl>

</div>
</div>
<a class="anchor" id="a411f09bef06e2f6044922c71f5b1815c"></a><!-- doxytag: member="buffer.c::buffer_io_init" ref="a411f09bef06e2f6044922c71f5b1815c" args="(buffer_t *buffer, void *context, func_buffer read, func_buffer write, int cached)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void buffer_io_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">func_buffer&#160;</td>
          <td class="paramname"><em>read</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">func_buffer&#160;</td>
          <td class="paramname"><em>write</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cached</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Associate buffer with read and write functions. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Place to write buffer structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>IO context for functions </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read</td><td>IO read function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">write</td><td>IO write function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cached</td><td>Cache returned io buffers </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a3b66d6f561851849956df27381711914"></a><!-- doxytag: member="buffer.c::buffer_memcmp" ref="a3b66d6f561851849956df27381711914" args="(buffer_t *buffer1, off_t buffer1_off, buffer_t *buffer2, off_t buffer2_off, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t buffer_memcmp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>buffer1_off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>buffer2_off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compare two buffers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer1</td><td>First buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer1_off</td><td>First buffer offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer2</td><td>Second buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer2_off</td><td>Second buffer offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size to compare </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if buffers equal </dd>
<dd>
1 or -1 if buffers differs </dd></dl>

</div>
</div>
<a class="anchor" id="a8ac167292c555d56fd631f55728047de"></a><!-- doxytag: member="buffer.c::buffer_memcpy" ref="a8ac167292c555d56fd631f55728047de" args="(buffer_t *buffer1, off_t buffer1_off, buffer_t *buffer2, off_t buffer2_off, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t buffer_memcpy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>buffer1_off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>buffer2_off</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy from one buffer to another. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer1</td><td>First buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer1_off</td><td>First buffer offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer2</td><td>Second buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer2_off</td><td>Second buffer offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Size to copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success </dd>
<dd>
-EINVAL on error </dd></dl>

</div>
</div>
<a class="anchor" id="af7e0a398289f8db655526fcbfdf12e53"></a><!-- doxytag: member="buffer.c::buffer_read" ref="af7e0a398289f8db655526fcbfdf12e53" args="(buffer_t *buffer, off_t read_offset, void *buf, size_t buf_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t buffer_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>read_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read from buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">read_offset</td><td>Offset to start writing </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>Read to ptr </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_size</td><td>Read length </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of bytes read </dd>
<dd>
IO function error </dd>
<dd>
-1 </dd></dl>

</div>
</div>
<a class="anchor" id="ae3b879f1d45172846446102e4c4afdba"></a><!-- doxytag: member="buffer.c::buffer_seek" ref="ae3b879f1d45172846446102e4c4afdba" args="(buffer_t *buffer, off_t b_offset, void **p_chunk, void **p_ptr, size_t *p_rest_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int buffer_seek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>b_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>p_chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>p_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>p_rest_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Seek chunk in buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Buffer to seek </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b_offset</td><td>Offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_chunk</td><td>Found chunk pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ptr</td><td>Memory ptr </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_rest_size</td><td>Memory size </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success </dd>
<dd>
-EINVAL on error </dd></dl>

</div>
</div>
<a class="anchor" id="a2d4642c47fa40ba0922c1d4c72b2c4ca"></a><!-- doxytag: member="buffer.c::buffer_write" ref="a2d4642c47fa40ba0922c1d4c72b2c4ca" args="(buffer_t *buffer, off_t write_offset, void *buf, size_t buf_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t buffer_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbuffer__t.html">buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t&#160;</td>
          <td class="paramname"><em>write_offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write to buffer. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>Buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">write_offset</td><td>Offset to start writing </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Ptr to memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_size</td><td>Write length </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Number of bytes written </dd>
<dd>
IO function error </dd>
<dd>
-1 </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sun Nov 13 2011 20:35:57 for frozen by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
